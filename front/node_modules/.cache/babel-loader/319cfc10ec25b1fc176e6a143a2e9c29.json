{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\erika\\\\Desktop\\\\proyectos\\\\Casa\\\\distribuidora\\\\front\\\\src\\\\Components\\\\Login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport api from '../config/Api';\nimport { Link } from 'react-router-dom';\nimport './Login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport BackgroundSlideshow from 'react-background-slideshow';\nimport image1 from './img/1.jpg';\nimport image2 from './img/2.jpg';\nimport image3 from './img/3.jpg';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = e => {\n      //submit(e) {\n      e.preventDefault();\n      axios.post(api + '/api/auth/', {\n        email: this.state.email,\n        password: this.state.password\n      }).then(res => {\n        //Validamos que el JSON tenga un token.\n        if (res.data.access_token === 'Invalid') {\n          //Hacemos focus en los datos incorrectos\n          document.getElementsByName(\"email\")[0].style.borderColor = \"Red\";\n          document.getElementsByName(\"password\")[0].style.borderColor = \"Red\";\n        } else {\n          localStorage.setItem('cool-jwt', res.data.access_token);\n          this.props.history.push('/Protected');\n        }\n\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n    this.change = this.change.bind(this); //this.submit = this.submit.bind(this);\n  }\n\n  change(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containerLogin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: e => this.submit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"email\",\n      onChange: e => this.change(e),\n      value: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      onChange: e => this.change(e),\n      value: this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.handleClick,\n      className: \"btn btn-primary btn-lg btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, \"Ingresar\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      className: \"btn btn-primary btn-lg btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 24\n      }\n    }, \"Registrarte\"), \" \"))))), /*#__PURE__*/React.createElement(BackgroundSlideshow, {\n      images: [image1, image2, image3\n      /*image4, \r\n      image5, \r\n      image6*/\n      ],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/erika/Desktop/proyectos/Casa/distribuidora/front/src/Components/Login/Login.js"],"names":["React","Component","axios","api","Link","BackgroundSlideshow","image1","image2","image3","Login","constructor","props","handleClick","e","preventDefault","post","email","state","password","then","res","data","access_token","document","getElementsByName","style","borderColor","localStorage","setItem","history","push","console","log","catch","err","change","bind","setState","target","name","value","render","submit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport api from '../config/Api';\r\nimport { Link } from 'react-router-dom';\r\nimport './Login.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport BackgroundSlideshow from 'react-background-slideshow';\r\n\r\nimport image1 from './img/1.jpg';\r\nimport image2 from './img/2.jpg';\r\nimport image3 from './img/3.jpg';\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    };\r\n\r\n    this.change = this.change.bind(this);\r\n    //this.submit = this.submit.bind(this);\r\n    \r\n    \r\n  }\r\n\r\n  change(e) {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n  handleClick =(e)=>{\r\n  //submit(e) {\r\n    \r\n    e.preventDefault();\r\n\r\n    axios.post(api+'/api/auth/', {\r\n      email : this.state.email,\r\n      password : this.state.password\r\n    }).then(res => {\r\n\r\n      //Validamos que el JSON tenga un token.\r\n      if(res.data.access_token === 'Invalid'){\r\n\r\n        //Hacemos focus en los datos incorrectos\r\n        document.getElementsByName(\"email\")[0].style.borderColor = \"Red\";\r\n        document.getElementsByName(\"password\")[0].style.borderColor = \"Red\"\r\n      }\r\n      else{\r\n        localStorage.setItem('cool-jwt', res.data.access_token);\r\n        this.props.history.push('/Protected');\r\n      }\r\n      console.log(res.data);\r\n      \r\n      \r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">    \r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-6\">\r\n              <div className=\"containerLogin\">\r\n                <div>\r\n                  \r\n                  <br></br>\r\n                  <h1>Sign Up</h1>\r\n                  <br></br>\r\n                </div>\r\n                <form onSubmit={e => this.submit(e)}>\r\n                  <div className = 'form-group'>\r\n                    <label>Email</label>\r\n                    <input type=\"text\" className= 'form-control' name=\"email\" onChange={e => this.change(e)} value={this.state.email} />\r\n                  </div>\r\n                  <div className = 'form-group'>\r\n                    <label>Password</label>\r\n                    <input type=\"password\" className= 'form-control' name=\"password\" onChange={e => this.change(e)}value={this.state.password} />\r\n                  </div>\r\n                  <div className = 'form-group'>\r\n                    <button type=\"submit\" onClick ={this.handleClick} className=\"btn btn-primary btn-lg btn-block\">Ingresar</button>\r\n                  </div>\r\n                </form>\r\n                <div>\r\n                  <div><Link to=\"/register\" className=\"btn btn-primary btn-lg btn-block\">Registrarte</Link> </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <BackgroundSlideshow images={\r\n            [ \r\n              image1, \r\n              image2, \r\n              image3\r\n              /*image4, \r\n              image5, \r\n              image6*/\r\n            \r\n            ]}/>\r\n          <div>\r\n\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}